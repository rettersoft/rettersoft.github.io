"use strict";(self.webpackChunkrio_doc=self.webpackChunkrio_doc||[]).push([[3984],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d=r.createContext({}),i=function(e){var t=r.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=i(e.components);return r.createElement(d.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,d=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=i(n),m=o,f=c["".concat(d,".").concat(m)]||c[m]||p[m]||a;return n?r.createElement(f,s(s({ref:t},u),{},{components:n})):r.createElement(f,s({ref:t},u))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,s=new Array(a);s[0]=c;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l.mdxType="string"==typeof e?e:o,s[1]=l;for(var i=2;i<a;i++)s[i]=n[i];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},7971:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return d},default:function(){return m},frontMatter:function(){return l},metadata:function(){return i},toc:function(){return p}});var r=n(7462),o=n(3366),a=(n(7294),n(3905)),s=["components"],l={sidebar_label:"Models",sidebar_position:4},d="Models",i={unversionedId:"Concepts/Models",id:"Concepts/Models",title:"Models",description:"Models are useful for getting inputs or sending outputs with prevalidated data. With modeled data we know what we send from responses and what we get from requests with typescripts powerfull autocomplition.",source:"@site/docs/Concepts/Models.md",sourceDirName:"Concepts",slug:"/Concepts/Models",permalink:"/docs/Concepts/Models",editUrl:"https://github.com/rettersoft/rettersoft.github.io/blob/master/docs/Concepts/Models.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_label:"Models",sidebar_position:4},sidebar:"ConceptsSideBar",previous:{title:"Classes",permalink:"/docs/Concepts/Classes"},next:{title:"Dependencies",permalink:"/docs/Concepts/Dependencies"}},u={},p=[{value:"User Model Example",id:"user-model-example",level:3},{value:"Using a Model",id:"using-a-model",level:2},{value:"Creating Models",id:"creating-models",level:3},{value:"Adding Models to Methods",id:"adding-models-to-methods",level:3},{value:"Using the Created Models",id:"using-the-created-models",level:3}],c={toc:p};function m(e){var t=e.components,n=(0,o.Z)(e,s);return(0,a.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"models"},"Models"),(0,a.kt)("p",null,"Models are useful for getting inputs or sending outputs with prevalidated data. With modeled data we know what we send from responses and what we get from requests with typescripts powerfull autocomplition."),(0,a.kt)("p",null,"While defining models, we specify the type of each variable and if a variable needs to be initialized."),(0,a.kt)("p",null,"If a variable is in the ",(0,a.kt)("inlineCode",{parentName:"p"},"required")," array, this means that variable needs to be initialized in typescript code."),(0,a.kt)("h3",{id:"user-model-example"},"User Model Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "type": "object",\n  "required": [\n    "userFullName",\n    "email",\n    "userId",\n  ],\n  "properties": {\n    "userId": {\n      "type": "string"\n    },\n    "userRank": {\n      "type": "string"\n    },\n    "userFullName": {\n      "type": "string"\n    },\n    "email": {\n      "type": "string"\n    },\n    "lastEnteredPlatform":{\n      "enum": [\n        "WEB",\n        "IOS",\n        "ANDROID"\n      ]\n    }\n  }\n}\n')),(0,a.kt)("hr",null),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"For More Advanced Use Cases Visit:")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://json-schema.org/"},"Json Schema")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"using-a-model"},"Using a Model"),(0,a.kt)("h3",{id:"creating-models"},"Creating Models"),(0,a.kt)("p",null,"First we create the model we are going to use in the Models."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'// CreateTodoInput.json\n{\n  "type": "object",\n  "required": [\n    "task"\n  ],\n  "properties": {\n    "task": {\n      "type": "string"\n    }\n  }\n}\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'// CreateTodoOutput.json\n{\n  "type": "object",\n  "required": [\n    "task"\n  ],\n  "properties": {\n    "task": {\n      "type": "string"\n    }\n  }\n}\n')),(0,a.kt)("h3",{id:"adding-models-to-methods"},"Adding Models to Methods"),(0,a.kt)("p",null,"After we created the model (in this example CreateTodoInput and CreateTodoOutput), we should add the model to the method file which we are going to use. Add the models to your methods in template.yml file.   "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"# template.yml\n...rest\nmethods:\n    - method: createTodo\n      sync: true\n      inputModel: CreateTodoInput     # CreateTodoInput model added\n      outputModel: CreateTodoOutput   # CreateTodoOutput model added\n      handler: index.createTodo\n")),(0,a.kt)("h3",{id:"using-the-created-models"},"Using the Created Models"),(0,a.kt)("p",null,"After we add the models to our method, we can use autocomplete to use our models in our method."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"// index.ts\nimport { CreateTodoInput, CreateTodoOutput } from './rio'\n\nexport async function createTodo(data: Data<CreateTodoInput, CreateTodoOutput>): Promise<StepResponse> {\n    const { task } = data.request.body // autocompleted\n\n    data.response = {\n        statusCode: 200,\n        body: {\n            task, // autocompleted\n        }\n    }\n\n    return data\n}\n\n")))}m.isMDXComponent=!0}}]);